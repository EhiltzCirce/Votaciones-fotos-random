---
import { Characters as person } from "@/logic/character"
---
<main class="flex flex-col justify-center items-center">

  <picture class="mb-20 md:h-auto h-96">
    <img 
      src="/img/Yahir/Yahir-image-presentation.webp" 
      transition:name="Character-Yahir"
      alt="Imagen de Yahir" id="image-presentation" 
      class="w-auto h-full object-cover transition"
      style="mask-image: linear-gradient(black 50%, transparent);"
      />
  </picture>

  <div class="hidden md:block">
    <section class="flex flex-row gap-10 flex-wrap justify-center">
      {
        person.map(({ id, name, imageSmall }) => (
          <a href={`/character/${id}`} class="character-link relative w-48 h-32 md:w-56 md:h-40 lg:w-64 lg:h-48">
            <img src={imageSmall} alt={`Imagen del personaje ${name}`}
              decoding="async"
              loading="lazy"
              class="size-48 object-cover rounded-lg -top-5 scale-95 z-10 absolute sm:left-5 lg:left-10 left-0 hover:saturate-150" 
              style="mask-image: linear-gradient(black 50%, transparent);"
            />
            <div class="absolute inset-0 character-link-background"></div>
          </a>
        ))
      }
    </section>
  </div>
  
  <div class="md:hidden">
    <section class="swiper">
      <div class="swiper-wrapper">
        {
          person.map(({ id, name, imageSmall }) => (
            <div class="swiper-slide">
              <a href={`/character/${id}`} class="character-link relative flex justify-center items-center">
                <img src={imageSmall} alt={`Imagen del personaje ${name}`}
                  decoding="async"
                  loading="lazy"
                  class="size-48 scale-125 z-10"
                  style="mask-image: linear-gradient(black 50%, transparent);"
                />
                <div class="absolute inset-0 character-link-background"></div>
              </a>
            </div>
          ))
        }
      </div>
      <div class="swiper-pagination"></div>
    </section>
  </div>
  
</main>

<style>
  .swiper {
    width: 350px;
    height: 220px;
  }

  .character-link-background {
    opacity: .25;
    background: linear-gradient(#fff 0%, #ffffff80 30%, #0000 95%);
  }
</style>

<script>
  import Swiper from 'swiper/bundle'

  const id = 'image-presentation'

  const Carrousel = () => {
    const swiper = new Swiper('.swiper', {
      slidesPerView: 'auto',
      loop: true,
      spaceBetween: 10,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
    })
  }

  document.addEventListener('astro:page-load', Carrousel)
</script>